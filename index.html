<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>illuzyonn Pro Console</title>
</head>
<body class="bg-[#0a0a0b] text-gray-100 font-mono">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function TelegramConsole() {
            // State (Durum) Yönetimi - Karmaşıklığın kalbi burasıdır
            const [formData, setFormData] = useState({ user: '', msg: '' });
            const [logs, setLogs] = useState([]);
            const [isProcessing, setIsProcessing] = useState(false);

            const botConfig = {
                token: "8314569653:AAED55qPPxKwV01z_7XmXOW-Pn0M1mz1nGg",
                chatId: "6191980329"
            };

            const addLog = (text, type = 'info') => {
                const time = new Date().toLocaleTimeString();
                setLogs(prev => [`[${time}] ${type.toUpperCase()}: ${text}`, ...prev].slice(0, 5));
            };

            const executeTransmission = async () => {
                if (!formData.user || !formData.msg) {
                    addLog("Validation failed: Missing parameters", "error");
                    return;
                }

                setIsProcessing(true);
                addLog("Initiating Telegram API request...", "warn");

                try {
                    const payload = `⚠️ CORE_MSG\nAuth: ${formData.user}\nPayload: ${formData.msg}`;
                    const response = await fetch(`https://api.telegram.org/bot${botConfig.token}/sendMessage`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            chat_id: botConfig.chatId,
                            text: payload,
                            parse_mode: 'Markdown'
                        })
                    });

                    if (response.ok) {
                        addLog("Data packet delivered successfully", "success");
                        setFormData({ ...formData, msg: '' });
                    } else {
                        throw new Error("API_REJECTED");
                    }
                } catch (err) {
                    addLog(`Transmission failed: ${err.message}`, "error");
                } finally {
                    setIsProcessing(false);
                }
            };

            return (
                <div class="p-6 max-w-2xl mx-auto">
                    <div class="border border-green-900/30 bg-black p-6 rounded-lg shadow-[0_0_20px_rgba(0,255,0,0.1)]">
                        <h2 class="text-green-500 mb-6 text-xl tracking-widest underline">SYSTEM_CORE_ACCESS_V3</h2>
                        
                        <div class="grid gap-4 mb-6">
                            <input 
                                class="bg-transparent border-b border-green-900 p-2 outline-none focus:border-green-400 text-green-300"
                                placeholder="IDENT_ID" 
                                value={formData.user}
                                onChange={(e) => setFormData({...formData, user: e.target.value})}
                            />
                            <textarea 
                                class="bg-gray-900/50 border border-green-900 p-3 rounded h-32 focus:border-green-400 outline-none"
                                placeholder="ENCRYPTED_DATA_PACKET"
                                value={formData.msg}
                                onChange={(e) => setFormData({...formData, msg: e.target.value})}
                            />
                        </div>

                        <button 
                            onClick={executeTransmission}
                            disabled={isProcessing}
                            class="w-full py-3 border border-green-500 text-green-500 hover:bg-green-500 hover:text-black transition-all font-bold uppercase tracking-tighter"
                        >
                            {isProcessing ? "WAIT: UPLOADING..." : "EXECUTE_TRANSMISSION"}
                        </button>

                        <div class="mt-8">
                            <h3 class="text-xs text-gray-500 mb-2">SYSTEM_LOGS:</h3>
                            <div class="text-xs space-y-1 font-mono">
                                {logs.map((log, i) => (
                                    <div key={i} class={log.includes('ERROR') ? 'text-red-500' : 'text-green-700'}>
                                        {log}
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TelegramConsole />);
    </script>
</body>
</html>
